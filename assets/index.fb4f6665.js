var e=Object.defineProperty,t=Object.defineProperties,l=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(t,l,a)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[l]=a;import{p as s,s as r,q as c}from"./module-mgmt.bc17e093.js";import{d,aA as p,am as u,aB as m,W as g,V as b,r as f,aL as y,o as h,a0 as S,a5 as k,a as w,w as v,ar as C,a3 as I,au as j}from"./vendor.46c44667.js";import"./index.02a076bc.js";const O=d({name:"GuestMgmtList",setup(e,{attrs:d,slots:f,emit:y}){const h=p({listQuery:{pageNumber:1,pageSize:20},list:[],total:0,listLoading:!1,multipleSelectionIds:[]}),S=()=>{h.listLoading=!0,s(h.listQuery).then((e=>{h.list=e.data.list,h.total=e.data.totalCount})).finally((()=>{h.listLoading=!1}))};return u((()=>{S()})),k=((e,t)=>{for(var l in t||(t={}))n.call(t,l)&&o(e,l,t[l]);if(a)for(var l of a(t))i.call(t,l)&&o(e,l,t[l]);return e})({},m(h)),t(k,l({handleSolve:e=>{g.confirm("确定解除禁用吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{r(e).then((()=>{b.success("解除禁用操作成功"),S()}))})).catch((()=>{b.info("已取消操作")}))},handleForbid:e=>{g.confirm("确定要禁用账户吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{c(e).then((()=>{b.success("禁用账户操作成功"),S()}))})).catch((()=>{b.info("已取消操作")}))},getList:S,handleSelectionChange:e=>{h.multipleSelectionIds=e.map((e=>e.userId))}}));var k}}),L={class:"app-container"},_=j("批量解除禁用"),P=j("批量禁用账户"),x=j("解除禁用"),Q=j("禁用账户");O.render=function(e,t,l,a,n,i){const o=f("el-button"),s=f("el-table-column"),r=f("el-table"),c=f("pagination"),d=y("loading");return h(),S("div",L,[k("div",null,[w(o,{type:"primary",class:"el-icon-unlock",size:"medium",disabled:e.multipleSelectionIds.length<=0,onClick:t[0]||(t[0]=t=>e.handleSolve(e.multipleSelectionIds))},{default:v((()=>[_])),_:1},8,["disabled"]),w(o,{type:"danger",class:"el-icon-lock",size:"medium",disabled:e.multipleSelectionIds.length<=0,onClick:t[1]||(t[1]=t=>e.handleForbid(e.multipleSelectionIds))},{default:v((()=>[P])),_:1},8,["disabled"])]),C(w(r,{class:"mt15",data:e.list,border:"",onSelectionChange:e.handleSelectionChange},{default:v((()=>[w(s,{type:"selection",width:"55"}),w(s,{align:"center",label:"昵称",prop:"nickName"}),w(s,{align:"center",label:"登录名",prop:"loginName"}),w(s,{align:"center",label:"身份状态",prop:"lockedFlag"},{default:v((e=>[k("span",null,I(0===e.row.lockedFlag?"正常":"禁用"),1)])),_:1}),w(s,{align:"center",label:"是否注销",prop:"stockNum"},{default:v((e=>[k("span",null,I(0===e.row.isDeleted?"正常":"注销"),1)])),_:1}),w(s,{align:"center",label:"注册时间",prop:"createTime"}),w(s,{align:"center",label:"操作"},{default:v((t=>[w(o,{type:"primary",class:"el-icon-unlock",size:"small",onClick:l=>e.handleSolve([t.row.userId])},{default:v((()=>[x])),_:2},1032,["onClick"]),w(o,{type:"danger",class:"el-icon-lock",size:"small",onClick:l=>e.handleForbid([t.row.userId])},{default:v((()=>[Q])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","onSelectionChange"]),[[d,e.listLoading]]),w(c,{total:e.total,page:e.listQuery.page,"onUpdate:page":t[2]||(t[2]=t=>e.listQuery.page=t),limit:e.listQuery.limit,"onUpdate:limit":t[3]||(t[3]=t=>e.listQuery.limit=t),onPagination:e.getList},null,8,["total","page","limit","onPagination"])])};export{O as default};
